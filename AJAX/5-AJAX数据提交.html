<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æ•°æ®æäº¤ - æ³¨å†Œ/ç™»å½•è´¦å·</title>
  <style>
    /* CSSå˜é‡å®šä¹‰ - ä¾¿äºä¸»é¢˜å®šåˆ¶ */
    :root {
      --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      --secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      --success-color: #10b981;
      --error-color: #ef4444;
      --warning-color: #f59e0b;
      --info-color: #3b82f6;
      --text-primary: #1f2937;
      --text-secondary: #6b7280;
      --bg-primary: #ffffff;
      --bg-secondary: #f9fafb;
      --border-color: #e5e7eb;
      --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
      --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
      --shadow-lg: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
      --shadow-xl: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
      --border-radius: 12px;
      --border-radius-lg: 16px;
      --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    /* å…¨å±€æ ·å¼ */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Inter', 'Microsoft YaHei', -apple-system, BlinkMacSystemFont, sans-serif;
      background: var(--primary-gradient);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--text-primary);
      line-height: 1.6;
      position: relative;
      overflow-x: hidden;
    }

    /* èƒŒæ™¯è£…é¥°å…ƒç´  */
    body::before,
    body::after {
      content: '';
      position: absolute;
      width: 300px;
      height: 300px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.1);
      z-index: -1;
    }

    body::before {
      top: -150px;
      right: -150px;
      animation: float 6s ease-in-out infinite;
    }

    body::after {
      bottom: -150px;
      left: -150px;
      animation: float 6s ease-in-out infinite reverse;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0px) rotate(0deg); }
      50% { transform: translateY(-20px) rotate(180deg); }
    }
    
    /* ä¸»å®¹å™¨ */
    .container {
      width: 100%;
      max-width: 550px;
      margin: 20px;
      background: var(--bg-primary);
      border-radius: var(--border-radius-lg);
      box-shadow: var(--shadow-xl);
      overflow: hidden;
      position: relative;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    /* å®¹å™¨è£…é¥° */
    .container::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: var(--secondary-gradient);
    }
    
    /* æ ‡é¢˜åŒºåŸŸ */
    .header {
      background: var(--primary-gradient);
      color: white;
      padding: 40px 30px;
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    .header::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
      animation: rotate 20s linear infinite;
    }

    @keyframes rotate {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }
    
    .main-title {
      font-size: 32px;
      font-weight: 800;
      margin-bottom: 12px;
      position: relative;
      z-index: 1;
      text-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    
    .subtitle {
      font-size: 16px;
      opacity: 0.95;
      position: relative;
      z-index: 1;
      font-weight: 500;
    }
    
    /* APIè¯´æ˜åŒºåŸŸ */
    .api-docs {
      background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
      padding: 30px;
      border-bottom: 1px solid var(--border-color);
      position: relative;
    }

    .api-docs::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: var(--secondary-gradient);
    }
    
    .api-docs h3 {
      color: var(--text-primary);
      margin-bottom: 20px;
      font-size: 20px;
      display: flex;
      align-items: center;
      font-weight: 700;
    }
    
    .api-docs h3::before {
      content: "ğŸš€";
      margin-right: 12px;
      font-size: 24px;
      animation: bounce 2s infinite;
    }

    @keyframes bounce {
      0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
      40% { transform: translateY(-10px); }
      60% { transform: translateY(-5px); }
    }
    
    .requirement {
      background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
      padding: 20px;
      border-radius: var(--border-radius);
      border-left: 5px solid var(--info-color);
      margin-bottom: 25px;
      position: relative;
      overflow: hidden;
    }

    .requirement::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.3) 50%, transparent 70%);
      transform: translateX(-100%);
      animation: shimmer 3s infinite;
    }

    @keyframes shimmer {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(100%); }
    }
    
    .api-info {
      background: var(--bg-primary);
      padding: 25px;
      border-radius: var(--border-radius);
      border: 2px solid var(--border-color);
      box-shadow: var(--shadow-sm);
      transition: var(--transition);
    }

    .api-info:hover {
      box-shadow: var(--shadow-md);
      transform: translateY(-2px);
    }
    
    .api-url {
      background: linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%);
      padding: 15px;
      border-radius: 8px;
      font-family: 'JetBrains Mono', 'Courier New', monospace;
      color: var(--error-color);
      margin: 15px 0;
      word-break: break-all;
      border: 1px solid #fecaca;
      position: relative;
      overflow: hidden;
    }

    .api-url::before {
      content: 'ğŸ”—';
      position: absolute;
      right: 10px;
      top: 50%;
      transform: translateY(-50%);
      opacity: 0.5;
    }
    
    .method-badge {
      display: inline-flex;
      align-items: center;
      background: linear-gradient(135deg, var(--success-color) 0%, #059669 100%);
      color: white;
      padding: 8px 16px;
      border-radius: 20px;
      font-size: 13px;
      font-weight: 600;
      margin-left: 15px;
      box-shadow: var(--shadow-sm);
      position: relative;
      overflow: hidden;
    }

    .method-badge::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
      transition: left 0.5s;
    }

    .method-badge:hover::before {
      left: 100%;
    }
    
    .parameter-list {
      margin-top: 20px;
    }
    
    .parameter-item {
      background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
      padding: 18px;
      border-radius: var(--border-radius);
      border: 2px solid var(--border-color);
      margin-bottom: 15px;
      transition: var(--transition);
      position: relative;
      overflow: hidden;
    }

    .parameter-item:hover {
      transform: translateX(5px);
      box-shadow: var(--shadow-md);
      border-color: var(--info-color);
    }

    .parameter-item::before {
      content: '';
      position: absolute;
      left: 0;
      top: 0;
      bottom: 0;
      width: 4px;
      background: var(--secondary-gradient);
      transform: scaleY(0);
      transition: transform 0.3s ease;
    }

    .parameter-item:hover::before {
      transform: scaleY(1);
    }
    
    .parameter-name {
      font-weight: 700;
      color: var(--error-color);
      font-family: 'JetBrains Mono', 'Courier New', monospace;
      font-size: 16px;
      display: flex;
      align-items: center;
    }

    .parameter-name::before {
      content: 'âš¡';
      margin-right: 8px;
      font-size: 14px;
    }
    
    .parameter-desc {
      color: var(--text-secondary);
      margin-top: 8px;
      font-size: 14px;
      line-height: 1.5;
      padding-left: 22px;
    }
    
    /* æ³¨å†Œè¡¨å•åŒºåŸŸ */
    .register-form {
      padding: 40px 30px;
      background: linear-gradient(135deg, #fafbfc 0%, #f8fafc 100%);
    }

    /* ç™»å½•è¡¨å•åŒºåŸŸ */
    .login-form {
      padding: 40px 30px;
      background: linear-gradient(135deg, #fafbfc 0%, #f8fafc 100%);
    }
    
    .form-title {
      font-size: 24px;
      font-weight: 800;
      color: var(--text-primary);
      margin-bottom: 30px;
      text-align: center;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
    }
    
    .form-title::before {
      content: "ğŸ¯";
      margin-right: 12px;
      font-size: 28px;
      animation: pulse 2s infinite;
    }

    /* ç™»å½•è¡¨å•æ ‡é¢˜ç‰¹æ®Šæ ·å¼ */
    .login-form .form-title::before {
      content: "ğŸ”";
      margin-right: 12px;
      font-size: 28px;
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.1); }
    }
    
    .form-group {
      margin-bottom: 25px;
      position: relative;
    }
    
    .form-label {
      display: block;
      margin-bottom: 10px;
      font-weight: 600;
      color: var(--text-primary);
      font-size: 15px;
      position: relative;
    }

    .form-label::after {
      content: ' *';
      color: var(--error-color);
      font-weight: 700;
    }
    
    .form-input {
      width: 100%;
      padding: 18px 20px;
      border: 2px solid var(--border-color);
      border-radius: var(--border-radius);
      font-size: 16px;
      transition: var(--transition);
      background: var(--bg-primary);
      position: relative;
      box-shadow: var(--shadow-sm);
    }
    
    .form-input:focus {
      outline: none;
      border-color: var(--info-color);
      background-color: var(--bg-primary);
      box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.1);
      transform: translateY(-2px);
    }

    .form-input::placeholder {
      color: var(--text-secondary);
      opacity: 0.7;
    }
    
    .form-input.error {
      border-color: var(--error-color);
      background: linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%);
      animation: shake 0.5s ease-in-out;
    }

    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-5px); }
      75% { transform: translateX(5px); }
    }
    
    .form-input.success {
      border-color: var(--success-color);
      background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
    }
    
    .validation-message {
      margin-top: 8px;
      font-size: 13px;
      padding: 12px 16px;
      border-radius: var(--border-radius);
      display: flex;
      align-items: center;
      font-weight: 500;
      position: relative;
      overflow: hidden;
    }

    .validation-message::before {
      content: '';
      position: absolute;
      left: 0;
      top: 0;
      bottom: 0;
      width: 4px;
      border-radius: 2px;
    }
    
    .validation-message.error {
      background: linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%);
      color: var(--error-color);
      border: 1px solid #fecaca;
    }

    .validation-message.error::before {
      background: var(--error-color);
    }
    
    .validation-message.success {
      background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
      color: var(--success-color);
      border: 1px solid #bbf7d0;
    }

    .validation-message.success::before {
      background: var(--success-color);
    }
    
    .validation-message.info {
      background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);
      color: var(--info-color);
      border: 1px solid #bfdbfe;
    }

    .validation-message.info::before {
      background: var(--info-color);
    }
    
    .register-btn {
      width: 100%;
      background: var(--primary-gradient);
      color: white;
      border: none;
      padding: 18px 24px;
      border-radius: var(--border-radius);
      font-size: 18px;
      font-weight: 700;
      cursor: pointer;
      transition: var(--transition);
      margin-top: 15px;
      position: relative;
      overflow: hidden;
      box-shadow: var(--shadow-md);
    }

    .register-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
      transition: left 0.5s;
    }

    .register-btn:hover {
      transform: translateY(-3px);
      box-shadow: var(--shadow-lg);
    }

    .register-btn:hover::before {
      left: 100%;
    }

    .register-btn:active {
      transform: translateY(-1px);
    }
    
    .register-btn:disabled {
      background: linear-gradient(135deg, #9ca3af 0%, #6b7280 100%);
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }

    .register-btn:disabled::before {
      display: none;
    }
    
    /* ç»“æœæ˜¾ç¤ºåŒºåŸŸ */
    .result-section {
      padding: 25px 30px;
      display: none;
      background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
    }
    
    .result-section.show {
      display: block;
      animation: slideDown 0.5s ease-out;
    }

    @keyframes slideDown {
      from {
        opacity: 0;
        transform: translateY(-20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    .result-message {
      padding: 20px;
      border-radius: var(--border-radius);
      margin-bottom: 15px;
      text-align: center;
      font-weight: 600;
      font-size: 16px;
      position: relative;
      overflow: hidden;
      box-shadow: var(--shadow-sm);
    }

    .result-message::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
    }
    
    .result-message.success {
      background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
      color: var(--success-color);
      border: 1px solid #bbf7d0;
    }

    .result-message.success::before {
      background: var(--success-color);
    }
    
    .result-message.error {
      background: linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%);
      color: var(--error-color);
      border: 1px solid #fecaca;
    }

    .result-message.error::before {
      background: var(--error-color);
    }
    
    .result-message.info {
      background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);
      color: var(--info-color);
      border: 1px solid #bfdbfe;
    }

    .result-message.info::before {
      background: var(--info-color);
    }
    
    /* åŠ è½½çŠ¶æ€ */
    .loading {
      display: inline-block;
      width: 24px;
      height: 24px;
      border: 3px solid rgba(255, 255, 255, 0.3);
      border-top: 3px solid #ffffff;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin-right: 12px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    /* å“åº”å¼è®¾è®¡ */
    @media (max-width: 768px) {
      .container {
        margin: 10px;
        border-radius: var(--border-radius);
        max-width: 100%;
      }
      
      .header {
        padding: 25px 20px;
      }
      
      .main-title {
        font-size: 26px;
      }

      .subtitle {
        font-size: 14px;
      }
      
      .api-docs {
        padding: 20px;
      }

      .api-docs h3 {
        font-size: 18px;
      }
      
      .register-form {
        padding: 25px 20px;
      }

      .login-form {
        padding: 25px 20px;
      }

      .form-title {
        font-size: 20px;
      }

      .form-input {
        padding: 16px 18px;
        font-size: 16px;
      }

      .register-btn {
        padding: 16px 20px;
        font-size: 16px;
      }
    }

    @media (max-width: 480px) {
      .container {
        margin: 5px;
        border-radius: 8px;
      }

      .header {
        padding: 20px 15px;
      }

      .main-title {
        font-size: 22px;
      }

      .api-docs {
        padding: 15px;
      }

      .register-form {
        padding: 20px 15px;
      }

      .login-form {
        padding: 20px 15px;
      }

      .form-input {
        padding: 14px 16px;
      }
    }

    /* æ ‡ç­¾åˆ‡æ¢æ ·å¼ */
    .tab-switch {
      display: flex;
      justify-content: center;
      margin: 0;
      background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
      border-bottom: 2px solid var(--border-color);
      position: relative;
    }

    .tab-switch::before {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 2px;
      background: var(--secondary-gradient);
      opacity: 0.3;
    }

    .tab-btn {
      background: none;
      border: none;
      outline: none;
      font-size: 16px;
      font-weight: 600;
      color: var(--text-secondary);
      padding: 20px 40px;
      cursor: pointer;
      transition: var(--transition);
      border-bottom: 3px solid transparent;
      position: relative;
      overflow: hidden;
    }

    .tab-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: var(--primary-gradient);
      opacity: 0;
      transition: opacity 0.3s ease;
      z-index: -1;
    }

    .tab-btn:hover {
      color: var(--text-primary);
    }

    .tab-btn:hover::before {
      opacity: 0.05;
    }

    .tab-btn.active {
      color: var(--info-color);
      border-bottom: 3px solid var(--info-color);
      background: rgba(59, 130, 246, 0.05);
      font-weight: 700;
    }

    .tab-btn.active::before {
      opacity: 0.1;
    }

    /* è¡¨å•æ˜¾ç¤ºæ§åˆ¶ */
    .login-form { 
      display: none; 
      animation: fadeIn 0.3s ease-in;
    }
    
    .login-form.active { 
      display: block; 
    }
    
    .register-form { 
      display: none; 
      animation: fadeIn 0.3s ease-in;
    }
    
    .register-form.active { 
      display: block; 
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* æ»šåŠ¨æ¡æ ·å¼ */
    ::-webkit-scrollbar {
      width: 8px;
    }

    ::-webkit-scrollbar-track {
      background: var(--bg-secondary);
      border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb {
      background: var(--primary-gradient);
      border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: var(--secondary-gradient);
    }

    /* é€‰æ‹©æ–‡æœ¬æ ·å¼ */
    ::selection {
      background: var(--info-color);
      color: white;
    }

    /* ç„¦ç‚¹æ ·å¼ */
    *:focus {
      outline: 2px solid var(--info-color);
      outline-offset: 2px;
    }

    /* æ‰“å°æ ·å¼ */
    @media print {
      body {
        background: white;
      }
      
      .container {
        box-shadow: none;
        border: 1px solid #ccc;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- æ ‡é¢˜åŒºåŸŸ -->
    <div class="header">
      <h1 class="main-title">æ•°æ®æäº¤ - æ³¨å†Œ/ç™»å½•è´¦å·</h1>
      <p class="subtitle">ç”¨æˆ·æ³¨å†Œä¸ç™»å½•ç³»ç»Ÿ</p>
    </div>
    
    <!-- APIè¯´æ˜åŒºåŸŸ -->
    <div class="api-docs">
      <h3>éœ€æ±‚</h3>
      <div class="requirement">
        é€šè¿‡ axios æäº¤ç”¨æˆ·åå’Œå¯†ç ï¼Œå®Œæˆæ³¨å†Œå’Œç™»å½•åŠŸèƒ½
      </div>
      <h3>APIæ¥å£ä¿¡æ¯</h3>
      <div class="api-info">
        <div><strong>æ³¨å†Œç”¨æˆ· URL åœ°å€:</strong></div>
        <div class="api-url">http://hmajax.itheima.net/api/register</div>
        <div><strong>ç™»å½•ç”¨æˆ· URL åœ°å€:</strong></div>
        <div class="api-url">http://hmajax.itheima.net/api/login</div>
        <div><strong>è¯·æ±‚æ–¹æ³•:</strong> <span class="method-badge">POST</span></div>
        <div class="parameter-list">
          <div><strong>å‚æ•°å:</strong></div>
          <div class="parameter-item">
            <div class="parameter-name">username</div>
            <div class="parameter-desc">ç”¨æˆ·å(ä¸­è‹±æ–‡å’Œæ•°å­—ç»„æˆ,æœ€å°‘8ä½)</div>
          </div>
          <div class="parameter-item">
            <div class="parameter-name">password</div>
            <div class="parameter-desc">å¯†ç (æœ€å°‘6ä½)</div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- åˆ‡æ¢æ ‡ç­¾ -->
    <div class="tab-switch">
      <button class="tab-btn active" id="registerTab">æ³¨å†Œ</button>
      <button class="tab-btn" id="loginTab">ç™»å½•</button>
    </div>
    
    <!-- æ³¨å†Œè¡¨å•åŒºåŸŸ -->
    <div class="register-form active" id="registerFormWrap">
      <h3 class="form-title">ç”¨æˆ·æ³¨å†Œ</h3>
      <form id="registerForm">
        <div class="form-group">
          <label class="form-label" for="username">ç”¨æˆ·å</label>
          <input type="text" class="form-input" id="username" name="username" placeholder="è¯·è¾“å…¥ç”¨æˆ·åï¼ˆæœ€å°‘8ä½ï¼Œä¸­è‹±æ–‡å’Œæ•°å­—ç»„æˆï¼‰" autocomplete="username">
          <div class="validation-message" id="usernameValidation"></div>
        </div>
        <div class="form-group">
          <label class="form-label" for="password">å¯†ç </label>
          <input type="password" class="form-input" id="password" name="password" placeholder="è¯·è¾“å…¥å¯†ç ï¼ˆæœ€å°‘6ä½ï¼‰" autocomplete="new-password">
          <div class="validation-message" id="passwordValidation"></div>
        </div>
        <button type="submit" class="register-btn" id="registerBtn">ç«‹å³æ³¨å†Œ</button>
      </form>
    </div>
    
    <!-- ç™»å½•è¡¨å•åŒºåŸŸ -->
    <div class="login-form" id="loginFormWrap">
      <h3 class="form-title">ç”¨æˆ·ç™»å½•</h3>
      <form id="loginForm">
        <div class="form-group">
          <label class="form-label" for="loginUsername">ç”¨æˆ·å</label>
          <input type="text" class="form-input" id="loginUsername" name="username" placeholder="è¯·è¾“å…¥ç”¨æˆ·åï¼ˆæœ€å°‘8ä½ï¼Œä¸­è‹±æ–‡å’Œæ•°å­—ç»„æˆï¼‰" autocomplete="username">
          <div class="validation-message" id="loginUsernameValidation"></div>
        </div>
        <div class="form-group">
          <label class="form-label" for="loginPassword">å¯†ç </label>
          <input type="password" class="form-input" id="loginPassword" name="password" placeholder="è¯·è¾“å…¥å¯†ç ï¼ˆæœ€å°‘6ä½ï¼‰" autocomplete="current-password">
          <div class="validation-message" id="loginPasswordValidation"></div>
        </div>
        <button type="submit" class="register-btn" id="loginBtn">ç«‹å³ç™»å½•</button>
      </form>
    </div>
    
    <!-- ç»“æœæ˜¾ç¤ºåŒºåŸŸ -->
    <div class="result-section" id="resultSection">
      <div class="result-message" id="resultMessage"></div>
    </div>
  </div>

  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <script>
    /**
     * ç”¨æˆ·æ³¨å†Œç»„ä»¶
     *
     * @input ç”¨æˆ·è¾“å…¥çš„ç”¨æˆ·åå’Œå¯†ç 
     * @process 1. éªŒè¯ç”¨æˆ·è¾“å…¥çš„æœ‰æ•ˆæ€§
     *          2. å‘é€POSTè¯·æ±‚åˆ°æ³¨å†ŒAPI
     *          3. å¤„ç†å“åº”ç»“æœ
     * @output æ³¨å†ŒæˆåŠŸæˆ–å¤±è´¥çš„æ¶ˆæ¯
     */
    
    // è·å–DOMå…ƒç´ 
    const registerForm = document.getElementById('registerForm');
    const usernameInput = document.getElementById('username');
    const passwordInput = document.getElementById('password');
    const registerBtn = document.getElementById('registerBtn');
    const resultSection = document.getElementById('resultSection');
    const resultMessage = document.getElementById('resultMessage');
    const usernameValidation = document.getElementById('usernameValidation');
    const passwordValidation = document.getElementById('passwordValidation');
    
    /**
     * åˆå§‹åŒ–åº”ç”¨
     *
     * @input é¡µé¢åŠ è½½å®Œæˆ
     * @process 1. ç»‘å®šè¡¨å•æäº¤äº‹ä»¶
     *          2. ç»‘å®šè¾“å…¥éªŒè¯äº‹ä»¶
     * @output å®Œæ•´çš„äº¤äº’ç•Œé¢
     */
    function initApp() {
      // ç»‘å®šè¡¨å•æäº¤äº‹ä»¶
      registerForm.addEventListener('submit', handleRegister);
      
      // ç»‘å®šè¾“å…¥éªŒè¯äº‹ä»¶
      usernameInput.addEventListener('input', () => validateField('username'));
      usernameInput.addEventListener('blur', () => validateField('username'));
      passwordInput.addEventListener('input', () => validateField('password'));
      passwordInput.addEventListener('blur', () => validateField('password'));
      
      // ç»‘å®šå›è½¦é”®äº‹ä»¶
      usernameInput.addEventListener('keypress', handleEnterKey);
      passwordInput.addEventListener('keypress', handleEnterKey);
    }
    
    /**
     * å¤„ç†å›è½¦é”®äº‹ä»¶
     *
     * @input é”®ç›˜äº‹ä»¶
     * @process 1. æ£€æŸ¥æ˜¯å¦ä¸ºå›è½¦é”®
     *          2. è§¦å‘ç›¸åº”æ“ä½œ
     * @output ç„¦ç‚¹åˆ‡æ¢æˆ–è¡¨å•æäº¤
     */
    function handleEnterKey(e) {
      if (e.key === 'Enter') {
        e.preventDefault();
        if (e.target === usernameInput) {
          passwordInput.focus();
        } else if (e.target === passwordInput) {
          handleRegister(e);
        }
      }
    }
    
    /**
     * éªŒè¯å•ä¸ªå­—æ®µ
     *
     * @input {string} fieldName - å­—æ®µåç§°
     * @process 1. è·å–å­—æ®µå€¼
     *          2. åº”ç”¨éªŒè¯è§„åˆ™
     *          3. æ›´æ–°UIçŠ¶æ€
     * @output éªŒè¯ç»“æœå’ŒUIæ›´æ–°
     */
    function validateField(fieldName) {
      const input = document.getElementById(fieldName);
      const validation = document.getElementById(fieldName + 'Validation');
      const value = input.value.trim();
      const rules = validationRules[fieldName];
      
      // æ¸…é™¤ä¹‹å‰çš„æ ·å¼
      input.classList.remove('error', 'success');
      validation.className = 'validation-message';
      
      // æ£€æŸ¥æ˜¯å¦ä¸ºç©º
      if (!value) {
        showValidationMessage(fieldName, 'required', 'error');
        return false;
      }
      
      // æ£€æŸ¥æœ€å°é•¿åº¦
      if (value.length < rules.minLength) {
        showValidationMessage(fieldName, 'minLength', 'error');
        return false;
      }
      
      // æ£€æŸ¥ç”¨æˆ·åæ ¼å¼
      if (fieldName === 'username' && !rules.pattern.test(value)) {
        showValidationMessage(fieldName, 'pattern', 'error');
        return false;
      }
      
      // éªŒè¯é€šè¿‡
      showValidationMessage(fieldName, 'success', 'success');
      return true;
    }
    
    /**
     * æ˜¾ç¤ºéªŒè¯æ¶ˆæ¯
     *
     * @input {string} fieldName - å­—æ®µåç§°
     * @input {string} messageType - æ¶ˆæ¯ç±»å‹
     * @input {string} status - çŠ¶æ€ç±»å‹
     * @process 1. è·å–å¯¹åº”çš„æ¶ˆæ¯
     *          2. æ›´æ–°UIæ˜¾ç¤º
     * @output éªŒè¯æ¶ˆæ¯çš„UIæ›´æ–°
     */
    function showValidationMessage(fieldName, messageType, status) {
      const input = document.getElementById(fieldName);
      const validation = document.getElementById(fieldName + 'Validation');
      const message = validationRules[fieldName].message[messageType];
      
      input.classList.add(status);
      validation.className = `validation-message ${status}`;
      validation.textContent = message;
    }
    
    /**
     * éªŒè¯æ‰€æœ‰å­—æ®µ
     *
     * @input è¡¨å•æ•°æ®
     * @process 1. éªŒè¯ç”¨æˆ·å
     *          2. éªŒè¯å¯†ç 
     * @output æ•´ä½“éªŒè¯ç»“æœ
     */
    function validateForm() {
      const usernameValid = validateField('username');
      const passwordValid = validateField('password');
      return usernameValid && passwordValid;
    }
    
    /**
     * å¤„ç†æ³¨å†Œè¡¨å•æäº¤
     *
     * @input è¡¨å•æäº¤äº‹ä»¶
     * @process 1. é˜»æ­¢é»˜è®¤æäº¤è¡Œä¸º
     *          2. éªŒè¯è¡¨å•æ•°æ®
     *          3. å‘é€æ³¨å†Œè¯·æ±‚
     * @output æ³¨å†Œç»“æœ
     */
    function handleRegister(e) {
      e.preventDefault();
      
      // éªŒè¯è¡¨å•
      if (!validateForm()) {
        showResult('è¯·æ£€æŸ¥è¾“å…¥ä¿¡æ¯', 'error');
        return;
      }
      
      // è·å–è¡¨å•æ•°æ®
      const formData = {
        username: usernameInput.value.trim(),
        password: passwordInput.value.trim()
      };
      
      // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
      showLoading();
      
      // å‘é€æ³¨å†Œè¯·æ±‚
      submitRegistration(formData);
    }
    
    /**
     * æäº¤æ³¨å†Œè¯·æ±‚
     *
     * @input {Object} formData - è¡¨å•æ•°æ®
     * @process 1. å‘é€POSTè¯·æ±‚åˆ°æ³¨å†ŒAPI
     *          2. å¤„ç†å“åº”ç»“æœ
     *          3. æ˜¾ç¤ºç»“æœæ¶ˆæ¯
     * @output æ³¨å†ŒæˆåŠŸæˆ–å¤±è´¥çš„ç»“æœ
     */
    function submitRegistration(formData) {
      axios({
        method: 'POST',
        url: 'http://hmajax.itheima.net/api/register',
        data: formData,
        headers: {
          'Content-Type': 'application/x-www-form-urlencoded'
        }
      }).then(({data}) => {
        console.log('æ³¨å†Œå“åº”:', data);
        
        if (data.code === 200 || data.code === 10000) {
          // æ³¨å†ŒæˆåŠŸ
          showResult(`æ³¨å†ŒæˆåŠŸï¼æ¬¢è¿ ${formData.username}`, 'success');
          resetForm();
        } else {
          // æ³¨å†Œå¤±è´¥
          showResult(data.message || 'æ³¨å†Œå¤±è´¥ï¼Œè¯·é‡è¯•', 'error');
        }
      }).catch(error => {
        console.error('æ³¨å†Œè¯·æ±‚å¤±è´¥:', error);
        
        let errorMessage = 'æ³¨å†Œå¤±è´¥ï¼Œè¯·é‡è¯•';
        if (error.response) {
          // æœåŠ¡å™¨è¿”å›é”™è¯¯çŠ¶æ€ç 
          if (error.response.data && error.response.data.message) {
            errorMessage = error.response.data.message;
          } else {
            errorMessage = `æœåŠ¡å™¨é”™è¯¯ (${error.response.status})`;
          }
        } else if (error.request) {
          // ç½‘ç»œé”™è¯¯
          errorMessage = 'ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè®¾ç½®';
        }
        
        showResult(errorMessage, 'error');
      });
    }
    
    /**
     * æ˜¾ç¤ºåŠ è½½çŠ¶æ€
     *
     * @input æ— 
     * @process 1. æ›´æ–°æŒ‰é’®æ–‡æœ¬
     *          2. ç¦ç”¨æŒ‰é’®
     *          3. æ˜¾ç¤ºç»“æœåŒºåŸŸ
     * @output åŠ è½½çŠ¶æ€æ˜¾ç¤º
     */
    function showLoading() {
      registerBtn.innerHTML = '<span class="loading"></span>æ³¨å†Œä¸­...';
      registerBtn.disabled = true;
      resultSection.classList.add('show');
    }
    
    /**
     * æ˜¾ç¤ºç»“æœæ¶ˆæ¯
     *
     * @input {string} message - æ¶ˆæ¯å†…å®¹
     * @input {string} type - æ¶ˆæ¯ç±»å‹
     * @process 1. æ›´æ–°ç»“æœæ¶ˆæ¯
     *          2. æ¢å¤æŒ‰é’®çŠ¶æ€
     *          3. æ˜¾ç¤ºç»“æœåŒºåŸŸ
     * @output ç»“æœæ¶ˆæ¯æ˜¾ç¤º
     */
    function showResult(message, type) {
      resultMessage.textContent = message;
      resultMessage.className = `result-message ${type}`;
      
      // æ¢å¤æŒ‰é’®çŠ¶æ€
      registerBtn.innerHTML = 'ç«‹å³æ³¨å†Œ';
      registerBtn.disabled = false;
      
      resultSection.classList.add('show');
      
      // å¦‚æœæ˜¯æˆåŠŸæ¶ˆæ¯ï¼Œ3ç§’åéšè—
      if (type === 'success') {
        setTimeout(() => {
          resultSection.classList.remove('show');
        }, 3000);
      }
    }
    
    /**
     * é‡ç½®è¡¨å•
     *
     * @input æ— 
     * @process 1. æ¸…ç©ºè¾“å…¥æ¡†
     *          2. æ¸…é™¤éªŒè¯æ¶ˆæ¯
     *          3. é‡ç½®æ ·å¼
     * @output é‡ç½®åçš„è¡¨å•çŠ¶æ€
     */
    function resetForm() {
      usernameInput.value = '';
      passwordInput.value = '';
      usernameInput.classList.remove('error', 'success');
      passwordInput.classList.remove('error', 'success');
      usernameValidation.className = 'validation-message';
      passwordValidation.className = 'validation-message';
      usernameValidation.textContent = '';
      passwordValidation.textContent = '';
    }
    
    // æ³¨å†Œ/ç™»å½•åˆ‡æ¢
    const registerTab = document.getElementById('registerTab');
    const loginTab = document.getElementById('loginTab');
    const registerFormWrap = document.getElementById('registerFormWrap');
    const loginFormWrap = document.getElementById('loginFormWrap');
    registerTab.onclick = function() {
      registerTab.classList.add('active');
      loginTab.classList.remove('active');
      registerFormWrap.classList.add('active');
      loginFormWrap.classList.remove('active');
      document.getElementById('resultSection').classList.remove('show');
    };
    loginTab.onclick = function() {
      loginTab.classList.add('active');
      registerTab.classList.remove('active');
      loginFormWrap.classList.add('active');
      registerFormWrap.classList.remove('active');
      document.getElementById('resultSection').classList.remove('show');
    };
    
    // æ³¨å†Œè¡¨å•é€»è¾‘ï¼ˆå¤ç”¨åŸæœ‰ï¼‰
    // éªŒè¯è§„åˆ™
    const validationRules = {
      username: {
        minLength: 8,
        pattern: /^[a-zA-Z0-9\u4e00-\u9fa5]+$/,
        message: {
          required: 'è¯·è¾“å…¥ç”¨æˆ·å',
          minLength: 'ç”¨æˆ·åè‡³å°‘éœ€è¦8ä½å­—ç¬¦',
          pattern: 'ç”¨æˆ·ååªèƒ½åŒ…å«ä¸­è‹±æ–‡å’Œæ•°å­—',
          success: 'ç”¨æˆ·åæ ¼å¼æ­£ç¡®'
        }
      },
      password: {
        minLength: 6,
        message: {
          required: 'è¯·è¾“å…¥å¯†ç ',
          minLength: 'å¯†ç è‡³å°‘éœ€è¦6ä½å­—ç¬¦',
          success: 'å¯†ç æ ¼å¼æ­£ç¡®'
        }
      }
    };
    
    /**
     * åˆå§‹åŒ–åº”ç”¨
     *
     * @input é¡µé¢åŠ è½½å®Œæˆ
     * @process 1. ç»‘å®šè¡¨å•æäº¤äº‹ä»¶
     *          2. ç»‘å®šè¾“å…¥éªŒè¯äº‹ä»¶
     * @output å®Œæ•´çš„äº¤äº’ç•Œé¢
     */
    function initApp() {
      // ç»‘å®šè¡¨å•æäº¤äº‹ä»¶
      registerForm.addEventListener('submit', handleRegister);
      
      // ç»‘å®šè¾“å…¥éªŒè¯äº‹ä»¶
      usernameInput.addEventListener('input', () => validateField('username'));
      usernameInput.addEventListener('blur', () => validateField('username'));
      passwordInput.addEventListener('input', () => validateField('password'));
      passwordInput.addEventListener('blur', () => validateField('password'));
      
      // ç»‘å®šå›è½¦é”®äº‹ä»¶
      usernameInput.addEventListener('keypress', handleEnterKey);
      passwordInput.addEventListener('keypress', handleEnterKey);
    }
    
    /**
     * å¤„ç†å›è½¦é”®äº‹ä»¶
     *
     * @input é”®ç›˜äº‹ä»¶
     * @process 1. æ£€æŸ¥æ˜¯å¦ä¸ºå›è½¦é”®
     *          2. è§¦å‘ç›¸åº”æ“ä½œ
     * @output ç„¦ç‚¹åˆ‡æ¢æˆ–è¡¨å•æäº¤
     */
    function handleEnterKey(e) {
      if (e.key === 'Enter') {
        e.preventDefault();
        if (e.target === usernameInput) {
          passwordInput.focus();
        } else if (e.target === passwordInput) {
          handleRegister(e);
        }
      }
    }
    
    /**
     * éªŒè¯å•ä¸ªå­—æ®µ
     *
     * @input {string} fieldName - å­—æ®µåç§°
     * @process 1. è·å–å­—æ®µå€¼
     *          2. åº”ç”¨éªŒè¯è§„åˆ™
     *          3. æ›´æ–°UIçŠ¶æ€
     * @output éªŒè¯ç»“æœå’ŒUIæ›´æ–°
     */
    function validateField(fieldName) {
      const input = document.getElementById(fieldName);
      const validation = document.getElementById(fieldName + 'Validation');
      const value = input.value.trim();
      const rules = validationRules[fieldName];
      
      // æ¸…é™¤ä¹‹å‰çš„æ ·å¼
      input.classList.remove('error', 'success');
      validation.className = 'validation-message';
      
      // æ£€æŸ¥æ˜¯å¦ä¸ºç©º
      if (!value) {
        showValidationMessage(fieldName, 'required', 'error');
        return false;
      }
      
      // æ£€æŸ¥æœ€å°é•¿åº¦
      if (value.length < rules.minLength) {
        showValidationMessage(fieldName, 'minLength', 'error');
        return false;
      }
      
      // æ£€æŸ¥ç”¨æˆ·åæ ¼å¼
      if (fieldName === 'username' && !rules.pattern.test(value)) {
        showValidationMessage(fieldName, 'pattern', 'error');
        return false;
      }
      
      // éªŒè¯é€šè¿‡
      showValidationMessage(fieldName, 'success', 'success');
      return true;
    }
    
    /**
     * æ˜¾ç¤ºéªŒè¯æ¶ˆæ¯
     *
     * @input {string} fieldName - å­—æ®µåç§°
     * @input {string} messageType - æ¶ˆæ¯ç±»å‹
     * @input {string} status - çŠ¶æ€ç±»å‹
     * @process 1. è·å–å¯¹åº”çš„æ¶ˆæ¯
     *          2. æ›´æ–°UIæ˜¾ç¤º
     * @output éªŒè¯æ¶ˆæ¯çš„UIæ›´æ–°
     */
    function showValidationMessage(fieldName, messageType, status) {
      const input = document.getElementById(fieldName);
      const validation = document.getElementById(fieldName + 'Validation');
      const message = validationRules[fieldName].message[messageType];
      
      input.classList.add(status);
      validation.className = `validation-message ${status}`;
      validation.textContent = message;
    }
    
    /**
     * éªŒè¯æ‰€æœ‰å­—æ®µ
     *
     * @input è¡¨å•æ•°æ®
     * @process 1. éªŒè¯ç”¨æˆ·å
     *          2. éªŒè¯å¯†ç 
     * @output æ•´ä½“éªŒè¯ç»“æœ
     */
    function validateForm() {
      const usernameValid = validateField('username');
      const passwordValid = validateField('password');
      return usernameValid && passwordValid;
    }
    
    /**
     * å¤„ç†æ³¨å†Œè¡¨å•æäº¤
     *
     * @input è¡¨å•æäº¤äº‹ä»¶
     * @process 1. é˜»æ­¢é»˜è®¤æäº¤è¡Œä¸º
     *          2. éªŒè¯è¡¨å•æ•°æ®
     *          3. å‘é€æ³¨å†Œè¯·æ±‚
     * @output æ³¨å†Œç»“æœ
     */
    function handleRegister(e) {
      e.preventDefault();
      
      // éªŒè¯è¡¨å•
      if (!validateForm()) {
        showResult('è¯·æ£€æŸ¥è¾“å…¥ä¿¡æ¯', 'error');
        return;
      }
      
      // è·å–è¡¨å•æ•°æ®
      const formData = {
        username: usernameInput.value.trim(),
        password: passwordInput.value.trim()
      };
      
      // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
      showLoading();
      
      // å‘é€æ³¨å†Œè¯·æ±‚
      submitRegistration(formData);
    }
    
    /**
     * æäº¤æ³¨å†Œè¯·æ±‚
     *
     * @input {Object} formData - è¡¨å•æ•°æ®
     * @process 1. å‘é€POSTè¯·æ±‚åˆ°æ³¨å†ŒAPI
     *          2. å¤„ç†å“åº”ç»“æœ
     *          3. æ˜¾ç¤ºç»“æœæ¶ˆæ¯
     * @output æ³¨å†ŒæˆåŠŸæˆ–å¤±è´¥çš„ç»“æœ
     */
    function submitRegistration(formData) {
      axios({
        method: 'POST',
        url: 'http://hmajax.itheima.net/api/register',
        data: formData,
        headers: {
          'Content-Type': 'application/x-www-form-urlencoded'
        }
      }).then(({data}) => {
        console.log('æ³¨å†Œå“åº”:', data);
        
        if (data.code === 200 || data.code === 10000) {
          // æ³¨å†ŒæˆåŠŸ
          showResult(`æ³¨å†ŒæˆåŠŸï¼æ¬¢è¿ ${formData.username}`, 'success');
          resetForm();
        } else {
          // æ³¨å†Œå¤±è´¥
          showResult(data.message || 'æ³¨å†Œå¤±è´¥ï¼Œè¯·é‡è¯•', 'error');
        }
      }).catch(error => {
        console.error('æ³¨å†Œè¯·æ±‚å¤±è´¥:', error);
        
        let errorMessage = 'æ³¨å†Œå¤±è´¥ï¼Œè¯·é‡è¯•';
        if (error.response) {
          // æœåŠ¡å™¨è¿”å›é”™è¯¯çŠ¶æ€ç 
          if (error.response.data && error.response.data.message) {
            errorMessage = error.response.data.message;
          } else {
            errorMessage = `æœåŠ¡å™¨é”™è¯¯ (${error.response.status})`;
          }
        } else if (error.request) {
          // ç½‘ç»œé”™è¯¯
          errorMessage = 'ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè®¾ç½®';
        }
        
        showResult(errorMessage, 'error');
      });
    }
    
    /**
     * æ˜¾ç¤ºåŠ è½½çŠ¶æ€
     *
     * @input æ— 
     * @process 1. æ›´æ–°æŒ‰é’®æ–‡æœ¬
     *          2. ç¦ç”¨æŒ‰é’®
     *          3. æ˜¾ç¤ºç»“æœåŒºåŸŸ
     * @output åŠ è½½çŠ¶æ€æ˜¾ç¤º
     */
    function showLoading() {
      registerBtn.innerHTML = '<span class="loading"></span>æ³¨å†Œä¸­...';
      registerBtn.disabled = true;
      resultSection.classList.add('show');
    }
    
    /**
     * æ˜¾ç¤ºç»“æœæ¶ˆæ¯
     *
     * @input {string} message - æ¶ˆæ¯å†…å®¹
     * @input {string} type - æ¶ˆæ¯ç±»å‹
     * @process 1. æ›´æ–°ç»“æœæ¶ˆæ¯
     *          2. æ¢å¤æŒ‰é’®çŠ¶æ€
     *          3. æ˜¾ç¤ºç»“æœåŒºåŸŸ
     * @output ç»“æœæ¶ˆæ¯æ˜¾ç¤º
     */
    function showResult(message, type) {
      resultMessage.textContent = message;
      resultMessage.className = `result-message ${type}`;
      
      // æ¢å¤æŒ‰é’®çŠ¶æ€
      registerBtn.innerHTML = 'ç«‹å³æ³¨å†Œ';
      registerBtn.disabled = false;
      
      resultSection.classList.add('show');
      
      // å¦‚æœæ˜¯æˆåŠŸæ¶ˆæ¯ï¼Œ3ç§’åéšè—
      if (type === 'success') {
        setTimeout(() => {
          resultSection.classList.remove('show');
        }, 3000);
      }
    }
    
    /**
     * é‡ç½®è¡¨å•
     *
     * @input æ— 
     * @process 1. æ¸…ç©ºè¾“å…¥æ¡†
     *          2. æ¸…é™¤éªŒè¯æ¶ˆæ¯
     *          3. é‡ç½®æ ·å¼
     * @output é‡ç½®åçš„è¡¨å•çŠ¶æ€
     */
    function resetForm() {
      usernameInput.value = '';
      passwordInput.value = '';
      usernameInput.classList.remove('error', 'success');
      passwordInput.classList.remove('error', 'success');
      usernameValidation.className = 'validation-message';
      passwordValidation.className = 'validation-message';
      usernameValidation.textContent = '';
      passwordValidation.textContent = '';
    }
    
    // åˆå§‹åŒ–åº”ç”¨
    initApp();
    
    // ç™»å½•è¡¨å•é€»è¾‘
    const loginForm = document.getElementById('loginForm');
    const loginUsernameInput = document.getElementById('loginUsername');
    const loginPasswordInput = document.getElementById('loginPassword');
    const loginBtn = document.getElementById('loginBtn');
    const loginUsernameValidation = document.getElementById('loginUsernameValidation');
    const loginPasswordValidation = document.getElementById('loginPasswordValidation');
    // ç™»å½•è¾“å…¥æ ¡éªŒ
    function validateLoginField(fieldName) {
      const input = fieldName === 'username' ? loginUsernameInput : loginPasswordInput;
      const validation = fieldName === 'username' ? loginUsernameValidation : loginPasswordValidation;
      const value = input.value.trim();
      const rules = validationRules[fieldName];
      input.classList.remove('error', 'success');
      validation.className = 'validation-message';
      if (!value) {
        showLoginValidationMessage(fieldName, 'required', 'error');
        return false;
      }
      if (value.length < rules.minLength) {
        showLoginValidationMessage(fieldName, 'minLength', 'error');
        return false;
      }
      if (fieldName === 'username' && !rules.pattern.test(value)) {
        showLoginValidationMessage(fieldName, 'pattern', 'error');
        return false;
      }
      showLoginValidationMessage(fieldName, 'success', 'success');
      return true;
    }
    function showLoginValidationMessage(fieldName, messageType, status) {
      const input = fieldName === 'username' ? loginUsernameInput : loginPasswordInput;
      const validation = fieldName === 'username' ? loginUsernameValidation : loginPasswordValidation;
      const message = validationRules[fieldName].message[messageType];
      input.classList.add(status);
      validation.className = `validation-message ${status}`;
      validation.textContent = message;
      
      // æ·»åŠ éªŒè¯æ¶ˆæ¯çš„åŠ¨ç”»æ•ˆæœ
      validation.style.animation = 'slideDown 0.3s ease-out';
    }
    function validateLoginForm() {
      const usernameValid = validateLoginField('username');
      const passwordValid = validateLoginField('password');
      return usernameValid && passwordValid;
    }
    // ç™»å½•è¡¨å•äº‹ä»¶
    loginUsernameInput.addEventListener('input', () => validateLoginField('username'));
    loginUsernameInput.addEventListener('blur', () => validateLoginField('username'));
    loginPasswordInput.addEventListener('input', () => validateLoginField('password'));
    loginPasswordInput.addEventListener('blur', () => validateLoginField('password'));
    loginUsernameInput.addEventListener('keypress', handleLoginEnterKey);
    loginPasswordInput.addEventListener('keypress', handleLoginEnterKey);
    function handleLoginEnterKey(e) {
      if (e.key === 'Enter') {
        e.preventDefault();
        if (e.target === loginUsernameInput) {
          loginPasswordInput.focus();
        } else if (e.target === loginPasswordInput) {
          handleLogin(e);
        }
      }
    }
    loginForm.addEventListener('submit', handleLogin);
    function handleLogin(e) {
      e.preventDefault();
      if (!validateLoginForm()) {
        showResult('è¯·æ£€æŸ¥è¾“å…¥ä¿¡æ¯', 'error');
        return;
      }
      const formData = {
        username: loginUsernameInput.value.trim(),
        password: loginPasswordInput.value.trim()
      };
      showLoginLoading();
      axios({
        method: 'POST',
        url: 'http://hmajax.itheima.net/api/login',
        data: formData,
        headers: {
          'Content-Type': 'application/x-www-form-urlencoded'
        }
      }).then(({data}) => {
        if (data.code === 200 || data.code === 10000) {
          showResult(`ç™»å½•æˆåŠŸï¼æ¬¢è¿ ${formData.username}`, 'success');
          // ç™»å½•æˆåŠŸååªæ¢å¤æŒ‰é’®çŠ¶æ€ï¼Œä¸æ¸…ç©ºè¡¨å•
          loginBtn.innerHTML = 'ç«‹å³ç™»å½•';
          loginBtn.disabled = false;
        } else {
          showResult(data.message || 'ç™»å½•å¤±è´¥ï¼Œè¯·é‡è¯•', 'error');
          // æ¢å¤ç™»å½•æŒ‰é’®çŠ¶æ€
          loginBtn.innerHTML = 'ç«‹å³ç™»å½•';
          loginBtn.disabled = false;
        }
      }).catch(error => {
        let errorMessage = 'ç™»å½•å¤±è´¥ï¼Œè¯·é‡è¯•';
        if (error.response) {
          if (error.response.data && error.response.data.message) {
            errorMessage = error.response.data.message;
          } else {
            errorMessage = `æœåŠ¡å™¨é”™è¯¯ (${error.response.status})`;
          }
        } else if (error.request) {
          errorMessage = 'ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè®¾ç½®';
        }
        showResult(errorMessage, 'error');
        // æ¢å¤ç™»å½•æŒ‰é’®çŠ¶æ€
        loginBtn.innerHTML = 'ç«‹å³ç™»å½•';
        loginBtn.disabled = false;
      });
    }
    function showLoginLoading() {
      loginBtn.innerHTML = '<span class="loading"></span>ç™»å½•ä¸­...';
      loginBtn.disabled = true;
      document.getElementById('resultSection').classList.add('show');
    }
    function resetLoginForm() {
      loginUsernameInput.value = '';
      loginPasswordInput.value = '';
      loginUsernameInput.classList.remove('error', 'success');
      loginPasswordInput.classList.remove('error', 'success');
      loginUsernameValidation.className = 'validation-message';
      loginPasswordValidation.className = 'validation-message';
      loginUsernameValidation.textContent = '';
      loginPasswordValidation.textContent = '';
      loginBtn.innerHTML = 'ç«‹å³ç™»å½•';
      loginBtn.disabled = false;
    }
  </script>
</body>
</html>